---
layout: post
title: "インデントをなるべく浅くするテクニック"
---
{% raw %}
こんにちは satoです。<br />
<br />
インデントが浅いと、コードが見やすいです。<br />
インデントが浅くなりそうなテクニックを紹介します。<br />
時と場合にもよりますし、賛否両論もあると思いますが、寛大な目でみてやってください。<br />
<br />
1)処理の判定は正常じゃない場合を書く<br />
<br />
<pre class="source_code"><br />
 //before<br />
 $data = getdata();<br />
 if ($data) {<br />
  なんか複雑な処理;<br />
 } else {<br />
  return false;<br />
 }<br />
 //after<br />
 $data = getdata();<br />
 if (!$data) {<br />
  return false;<br />
 }<br />
 なんか複雑な処理;<br />
</pre><br />
<br />
2) array か どうかを判断する場合は array にして処理をする<br />
<br />
<pre class="source_code"><br />
 //before<br />
 if (is_array($args)) {<br />
  foreach() ...<br />
 } else {<br />
  ....<br />
 }<br />
 //after<br />
 if (!is_array($args)) {<br />
  $args = array($args);<br />
 }<br />
 foreach ...<br />
</pre><br />
<br />
3) 単純な代入が伴うif文には 三項演算子を使う<br />
<br />
<pre class="source_code"><br />
 //before<br />
 $data = getdata();<br />
 if (isset($data['id'])) {<br />
  return $data['id'];<br />
 }<br />
 return false;<br />
 //after<br />
 return isset($data['id']) ? $data['id'] : false;<br />
</pre><br />
<br />
4) forの中での特別処理は continue を使用する<br />
<br />
<pre class="source_code"><br />
 //before<br />
 foreach ($value as $v) {<br />
  if ($v % 2 == 0) {<br />
   複雑な処理;<br />
  }<br />
 }<br />
 //after<br />
 foreach ($value as $v) {<br />
  if ($v % 2 == 1)<br />
   continue;<br />
  複雑な処理;<br />
 }<br />
</pre><br />
<br />
5) 複数条件の if は switch で書く<br />
<br />
<pre class="source_code"><br />
 //before<br />
 if ($v == 'A' || $v == 'AB'  || $v = 'B') {<br />
  処理1;<br />
 }<br />
 else if ( $v == 'O') {<br />
  処理2;<br />
 } <br />
 else {<br />
  処理3;<br />
 }<br />
 //after<br />
 switch($v) {<br />
 case 'A':<br />
 case 'AB':<br />
 case 'B':<br />
  処理1;<br />
  break;<br />
 case 'O'<br />
  処理2;<br />
  break;<br />
 default<br />
  処理3;<br />
  break;<br />
 } <br />
</pre><br />
<br />
他にもナイスなアイディア募集中です！
{% endraw %}
